<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Synesthesia Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f0f0;
            padding: 20px;
        }

        h1 {
            color: #333;
        }

        #textInput {
            width: 80%;
            max-width: 600px;
            padding: 10px;
            font-size: 16px;
            margin-bottom: 20px;
        }

        #synesthesiaCanvas {
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #instructions {
            margin-top: 20px;
            text-align: center;
            color: #666;
            max-width: 600px;
        }
    </style>
</head>

<body>
    <h1>Visual Synesthesia Text Generator</h1>

    <input type="text" id="textInput" placeholder="Type your text here...">

    <canvas id="synesthesiaCanvas" width="600" height="200"></canvas>

    <div id="instructions">
        <p>Type in the input field above to see and hear your text transformed!</p>
        <p>Each letter corresponds to a unique color and musical note.</p>
        <p>Experience the synesthesia as you type!</p>
    </div>

    <script>
        // Synesthesia mappings
        const letterToColor = {
            'a': '#FF0000', 'b': '#0000FF', 'c': '#00FF00', 'd': '#FFFF00',
            'e': '#FF00FF', 'f': '#00FFFF', 'g': '#800000', 'h': '#008000',
            'i': '#000080', 'j': '#808000', 'k': '#800080', 'l': '#008080',
            'm': '#FFA500', 'n': '#A52A2A', 'o': '#FFC0CB', 'p': '#DDA0DD',
            'q': '#E6E6FA', 'r': '#F0E68C', 's': '#FFDAB9', 't': '#98FB98',
            'u': '#AFEEEE', 'v': '#DB7093', 'w': '#FFEFD5', 'x': '#FFDAB9',
            'y': '#CDC9C9', 'z': '#8B4513'
        };

        const letterToNote = {
            'a': 'C4', 'b': 'D4', 'c': 'E4', 'd': 'F4', 'e': 'G4',
            'f': 'A4', 'g': 'B4', 'h': 'C5', 'i': 'D5', 'j': 'E5',
            'k': 'F5', 'l': 'G5', 'm': 'A5', 'n': 'B5', 'o': 'C6',
            'p': 'D6', 'q': 'E6', 'r': 'F6', 's': 'G6', 't': 'A6',
            'u': 'B6', 'v': 'C7', 'w': 'D7', 'x': 'E7', 'y': 'F7',
            'z': 'G7'
        };

        // Function to generate visual representation
        function generateVisual(text) {
            const canvas = document.getElementById('synesthesiaCanvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            ctx.clearRect(0, 0, width, height);

            const letters = text.toLowerCase().split('');
            const letterWidth = width / letters.length;

            letters.forEach((letter, index) => {
                if (letter in letterToColor) {
                    ctx.fillStyle = letterToColor[letter];
                    ctx.fillRect(index * letterWidth, 0, letterWidth, height);
                }
            });

            // Add visual effects
            letters.forEach((letter, index) => {
                if (letter in letterToColor) {
                    const centerX = (index + 0.5) * letterWidth;
                    const centerY = height / 2;
                    const radius = letterWidth / 2;

                    ctx.beginPath();
                    ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                    ctx.fill();
                }
            });
        }

        // Function to generate audio
        function generateAudio(text) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const letters = text.toLowerCase().split('');

            letters.forEach((letter, index) => {
                if (letter in letterToNote) {
                    const oscillator = audioContext.createOscillator();
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(noteToFrequency(letterToNote[letter]), audioContext.currentTime + index * 0.2);

                    const gainNode = audioContext.createGain();
                    gainNode.gain.setValueAtTime(0, audioContext.currentTime + index * 0.2);
                    gainNode.gain.linearRampToValueAtTime(0.5, audioContext.currentTime + index * 0.2 + 0.1);
                    gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + index * 0.2 + 0.2);

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.start(audioContext.currentTime + index * 0.2);
                    oscillator.stop(audioContext.currentTime + index * 0.2 + 0.2);
                }
            });
        }

        // Helper function to convert note to frequency
        function noteToFrequency(note) {
            const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
            const octave = parseInt(note.slice(-1));
            const semitonesAboveC0 = notes.indexOf(note.slice(0, -1)) + (octave + 1) * 12;
            return 440 * Math.pow(2, (semitonesAboveC0 - 69) / 12);
        }

        // Function to handle text input and generate synesthesia experience
        function handleInput() {
            const inputText = document.getElementById('textInput').value;
            generateVisual(inputText);
            generateAudio(inputText);
        }

        // Initialize the application
        function init() {
            const inputField = document.getElementById('textInput');
            inputField.addEventListener('input', handleInput);
            handleInput(); // Initial generation
        }

        // Run initialization when the DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>

</html>